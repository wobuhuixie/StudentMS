(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21864148"],{7628:function(e,t,a){},"9a02":function(e,t,a){"use strict";a("7628")},b62f:function(e,t,a){"use strict";a.r(t);a("7f7f");var r=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"background-color":"#fff","border-radius":"8px"}},[t("div",{staticClass:"filter"},[t("el-dialog",{attrs:{title:"添加教师信息",visible:e.dialogVisible,modal:!1,width:"35%",center:"center"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"form",staticClass:"demo-ruleForm",staticStyle:{overflow:"hidden"},attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"工号",prop:"infonum",required:""}},[t("el-input",{attrs:{placeholder:"请输入工号,格式为:xx01"},model:{value:e.form.infonum,callback:function(t){e.$set(e.form,"infonum",t)},expression:"form.infonum"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name",required:""}},[t("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"年龄",prop:"age",required:""}},[t("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),t("el-form-item",{attrs:{label:"所在系",prop:"department"}},[t("el-select",{attrs:{placeholder:"请选择所在系部"},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}},[t("el-option",{attrs:{label:"信息系",value:"信息系"}})],1)],1),t("el-form-item",{attrs:{label:"入职时间",required:""}},[t("el-col",{attrs:{span:11}},[t("el-form-item",{attrs:{prop:"date"}},[t("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1)],1),t("el-form-item",{attrs:{label:"学历",prop:"degree",required:""}},[t("el-select",{attrs:{placeholder:"当前学历"},model:{value:e.form.degree,callback:function(t){e.$set(e.form,"degree",t)},expression:"form.degree"}},[t("el-option",{attrs:{label:"大专",value:"大专"}}),t("el-option",{attrs:{label:"本科",value:"本科"}}),t("el-option",{attrs:{label:"硕士",value:"硕士"}}),t("el-option",{attrs:{label:"博士",value:"博士"}})],1)],1),t("el-form-item",{attrs:{label:"职务",prop:"office"}},[t("el-select",{attrs:{placeholder:"职务"},model:{value:e.form.office,callback:function(t){e.$set(e.form,"office",t)},expression:"form.office"}},[t("el-option",{attrs:{label:"主任",value:"主任"}}),t("el-option",{attrs:{label:"副主任",value:"副主任"}}),t("el-option",{attrs:{label:"书记",value:"书记"}}),t("el-option",{attrs:{label:"副书记",value:"副书记"}}),t("el-option",{attrs:{label:"组长",value:"组长"}}),t("el-option",{attrs:{label:"语文老师",value:"语文老师"}}),t("el-option",{attrs:{label:"数学老师",value:"数学老师"}}),t("el-option",{attrs:{label:"英语老师",value:"英语老师"}}),t("el-option",{attrs:{label:"机房管理员",value:"机房管理员"}})],1)],1),t("el-form-item",{attrs:{label:"性别",prop:"gender"}},[t("el-radio-group",{model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[t("el-radio",{attrs:{label:"男"}}),t("el-radio",{attrs:{label:"女"}})],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addForm("form")}}},[e._v("立即创建")]),t("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1),t("el-dialog",{attrs:{title:"修改教师信息",visible:e.upddialogVisible,modal:!1,width:"35%",center:"center"},on:{"update:visible":function(t){e.upddialogVisible=t}}},[t("el-form",{ref:"updform",staticClass:"demo-ruleForm",staticStyle:{overflow:"hidden"},attrs:{model:e.updform,rules:e.updrules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"工号",prop:"updinfonum"}},[t("el-input",{attrs:{placeholder:"请输入工号,格式为:xx01"},model:{value:e.updform.updinfonum,callback:function(t){e.$set(e.updform,"updinfonum",t)},expression:"updform.updinfonum"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"updname"}},[t("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.updform.updname,callback:function(t){e.$set(e.updform,"updname",t)},expression:"updform.updname"}})],1),t("el-form-item",{attrs:{label:"年龄",prop:"updage"}},[t("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.updform.updage,callback:function(t){e.$set(e.updform,"updage",t)},expression:"updform.updage"}})],1),t("el-form-item",{attrs:{label:"所在系",prop:"upddepartment"}},[t("el-select",{attrs:{placeholder:"请选择所在系部"},model:{value:e.updform.upddepartment,callback:function(t){e.$set(e.updform,"upddepartment",t)},expression:"updform.upddepartment"}},[t("el-option",{attrs:{label:"信息系",value:"信息系"}})],1)],1),t("el-form-item",{attrs:{label:"入职时间"}},[t("el-col",{attrs:{span:11}},[t("el-form-item",{attrs:{prop:"upddate"}},[t("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.updform.upddate,callback:function(t){e.$set(e.updform,"upddate",t)},expression:"updform.upddate"}})],1)],1)],1),t("el-form-item",{attrs:{label:"学历",prop:"upddegree"}},[t("el-select",{attrs:{placeholder:"当前学历"},model:{value:e.updform.upddegree,callback:function(t){e.$set(e.updform,"upddegree",t)},expression:"updform.upddegree"}},[t("el-option",{attrs:{label:"大专",value:"大专"}}),t("el-option",{attrs:{label:"本科",value:"本科"}}),t("el-option",{attrs:{label:"硕士",value:"硕士"}}),t("el-option",{attrs:{label:"博士",value:"博士"}})],1)],1),t("el-form-item",{attrs:{label:"职务",prop:"updoffice"}},[t("el-select",{attrs:{placeholder:"职务"},model:{value:e.updform.updoffice,callback:function(t){e.$set(e.updform,"updoffice",t)},expression:"updform.updoffice"}},[t("el-option",{attrs:{label:"主任",value:"主任"}}),t("el-option",{attrs:{label:"副主任",value:"副主任"}}),t("el-option",{attrs:{label:"书记",value:"书记"}}),t("el-option",{attrs:{label:"副书记",value:"副书记"}}),t("el-option",{attrs:{label:"组长",value:"组长"}}),t("el-option",{attrs:{label:"语文老师",value:"语文老师"}}),t("el-option",{attrs:{label:"数学老师",value:"数学老师"}}),t("el-option",{attrs:{label:"英语老师",value:"英语老师"}}),t("el-option",{attrs:{label:"机房管理员",value:"机房管理员"}})],1)],1),t("el-form-item",{attrs:{label:"性别",prop:"updgender"}},[t("el-radio-group",{model:{value:e.updform.updgender,callback:function(t){e.$set(e.updform,"updgender",t)},expression:"updform.updgender"}},[t("el-radio",{attrs:{label:"男"}}),t("el-radio",{attrs:{label:"女"}})],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updForm("updform")}}},[e._v("立即修改")]),t("el-button",{on:{click:function(t){return e.resetupdForm("updform")}}},[e._v("重置")])],1)],1)],1)],1),t("div",{staticClass:"box"},[t("el-button",{staticClass:"onAdd",attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:e.onAdd}},[e._v("添加信息")]),t("el-button",{staticClass:"reset-button",attrs:{icon:"el-icon-refresh"},nativeOn:{click:function(t){return t.preventDefault(),e.reset.apply(null,arguments)}}},[e._v("重置")]),t("el-input",{staticClass:"sear-input",attrs:{placeholder:"请输入要查找的老师",clearable:""},model:{value:e.sear,callback:function(t){e.sear=t},expression:"sear"}})],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{overflow:"hidden","z-index":"1"},attrs:{border:"","header-cell-style":{background:"rgb(236, 247, 255)",color:"#606266"},align:"center",type:"primary","empty-text":"暂无数据","highlight-current-row":"",data:e.filterData.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize)}},[t("el-table-column",{attrs:{prop:"id",label:"教师id",align:"center"}}),t("el-table-column",{attrs:{align:"center",prop:"infonum",label:"工号"}}),t("el-table-column",{attrs:{align:"center",prop:"department",label:"所在系"}}),t("el-table-column",{attrs:{align:"center",prop:"office",label:"职务",filters:[{text:"主任",value:"主任"},{text:"副主任",value:"副主任"},{text:"组长",value:"组长"}],"filter-method":e.filterHandler}}),t("el-table-column",{attrs:{align:"center",prop:"name",label:"姓名"}}),t("el-table-column",{attrs:{align:"center",prop:"gender",label:"性别"}}),t("el-table-column",{attrs:{align:"center",prop:"age",label:"年龄"}}),t("el-table-column",{attrs:{align:"center",prop:"date",label:"入职时间"}}),t("el-table-column",{attrs:{align:"center",prop:"degree",label:"学历"}}),t("el-table-column",{attrs:{width:"220",align:"center",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.deleteRow(a.row.infonum,e.fulltabledata)}}},[e._v("\n          删除\n        ")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"mini"},on:{click:function(t){return e.onupd(a.row.infonum,e.fulltabledata)}}},[e._v("\n          修改\n        ")])]}}])})],1),t("footer",[t("el-pagination",{attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage,layout:"total,prev, pager, next",total:e.filterData.length},on:{"current-change":e.handleCurrentChange}})],1)],1)},l=[],n=(a("6762"),a("2fdb"),a("ac6a"),a("7514"),a("20d6"),{data:function(){return{sear:"",lastinfonum:"",found:!0,isShow:!1,dialogVisible:!1,upddialogVisible:!1,pageSize:11,currentPage:1,fullWidth:document.documentElement.clientWidth,loading:!1,fulltabledata:[],numrule:/[0-9]\d*/,form:{infonum:"",name:"",age:"",department:"",degree:"",office:"",date:"",gender:""},updform:{id:"",updinfonum:"",updname:"",updage:"",upddepartment:"",upddegree:"",updoffice:"",upddate:"",updgender:""},rules:{name:[{required:!0,message:"请输入名字",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"},{max:2,message:"长度在 2 字符",trigger:"blur"}],infonum:[{required:!0,message:"请输入工号",trigger:"blur"},{min:4,max:5,message:"长度在 4 到 5 字符",trigger:"blur"}],department:[{required:!0,message:"请选择所在系部",trigger:"change"}],degree:[{required:!0,message:"请选择学历",trigger:"change"}],office:[{required:!0,message:"请选择职务",trigger:"change"}],date:[{required:!0,message:"请选择日期",trigger:"change"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}]},updrules:{updname:[{required:!0,message:"请输入名字",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],updage:[{required:!0,message:"请输入年龄",trigger:"blur"},{max:2,message:"长度在 2 字符",trigger:"blur"}],updinfonum:[{required:!0,message:"请输入工号",trigger:"blur"},{min:4,max:5,message:"长度在 4 到 5 字符",trigger:"blur"}],upddepartment:[{required:!0,message:"请选择所在系部",trigger:"change"}],upddegree:[{required:!0,message:"请选择学历",trigger:"change"}],updoffice:[{required:!0,message:"请选择职务",trigger:"change"}],upddate:[{required:!0,message:"请选择日期",trigger:"change"}],updgender:[{required:!0,message:"请选择性别",trigger:"change"}]},tableData:[{id:1,infonum:"xx01",department:"信息系",office:"组长",name:"王小虎",gender:"男",age:"19",date:"2023-03-13",degree:"本科",teacher_admin:"123456",teacher_passworld:"123456"},{id:2,infonum:"xx02",department:"信息系",office:"组长",name:"张小五",gender:"女",age:"19",date:"2023-03-13",degree:"本科"},{id:3,infonum:"xx03",department:"信息系",office:"数学老师",name:"李大壮",gender:"男",age:"19",date:"2023-03-13",degree:"本科"},{id:4,infonum:"xx04",department:"信息系",office:"主任",name:"赵小四",gender:"男",age:"19",date:"2023-03-13",degree:"本科"},{id:5,infonum:"xx05",department:"信息系",office:"副主任",name:"谭大壮",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"},{id:6,infonum:"xx06",department:"信息系",office:"副主任",name:"李晓辉",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"},{id:7,infonum:"xx07",department:"信息系",office:"英语老师",name:"谭嘉健",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"},{id:8,infonum:"xx08",department:"信息系",office:"语文老师",name:"张大三",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"},{id:9,infonum:"xx09",department:"信息系",office:"语文老师",name:"张大三",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"},{id:10,infonum:"xx10",department:"信息系",office:"语文老师",name:"张大三",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"},{id:11,infonum:"xx11",department:"信息系",office:"语文老师",name:"张大三",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"},{id:12,infonum:"xx12",department:"信息系",office:"语文老师",name:"张大三",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"},{id:13,infonum:"xx13",department:"信息系",office:"语文老师",name:"张大三",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"},{id:14,infonum:"xx14",department:"信息系",office:"语文老师",name:"张大三",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"},{id:15,infonum:"xx15",department:"信息系",office:"语文老师",name:"张大三",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"},{id:16,infonum:"xx16",department:"信息系",office:"语文老师",name:"张大三",gender:"男",age:"19",date:"2023-03-13",degree:"研究生"}]}},methods:{deleteRow:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"删除成功!"});var a=t.fulltabledata.findIndex((function(t){return t.infonum===e}));-1!==a&&(t.fulltabledata.splice(a,1),localStorage.setItem("infotabledata",JSON.stringify(t.fulltabledata)))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},reset:function(){var e=this;this.sear="",this.val="",this.val2="",this.loading=!0,setTimeout((function(){e.currentPage=1,e.getUser(),e.loading=!1}),700)},open:function(e){var t=this.tableData[e].teacher_admin,a=this.tableData[e].teacher_passworld;this.$alert("账号: "+t+" 密码: "+a,"教师账号密码",{confirmButtonText:"确定"})},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.loading=!0,setTimeout((function(){t.loading=!1}),200)},filterHandler:function(e,t,a){var r=a["property"];return t[r]===e},onAdd:function(){this.dialogVisible=!0,void 0!==this.$refs["form"]&&this.$refs["form"].resetFields()},onupd:function(e){var t=this.fulltabledata.find((function(t){return t.infonum==e}));this.lastinfonum=t.infonum,this.updform.id=t.id,this.updform.updinfonum=t.infonum,this.updform.updname=t.name,this.updform.upddepartment=t.department,this.updform.updoffice=t.office,this.updform.updgender=t.gender,this.updform.updage=t.age,this.updform.upddate=t.date,this.updform.upddegree=t.degree,this.upddialogVisible=!0},addForm:function(e){var t=this;this.found=!0,this.$refs[e].validate((function(e){if(e){var a={id:"",infonum:t.form.infonum,department:t.form.department,office:t.form.office,name:t.form.name,gender:t.form.gender,age:t.form.age,date:t.form.date,degree:t.form.degree};if(t.found&&(t.fulltabledata=JSON.parse(localStorage.getItem("infotabledata")),"xx"!==t.form.infonum.substring(0,2)||isNaN(t.form.infonum.substring(2,4))?(t.found=!1,t.$message.error("输入的工号格式不正确！")):t.found&&t.fulltabledata.forEach((function(e){t.form.infonum==e.infonum&&(t.$message.error("有相同工号，请检查是否输入正确！"),t.found=!1)})),t.found&&(t.numrule.test(t.form.age)?t.form.age<18||t.form.age>65?(t.$message.error("输入的年龄格式不正确！"),t.found=!1):t.found=!0:(t.$message.error("输入的年龄格式不正确！"),t.found=!1)),t.found&&(t.numrule.test(t.form.name)?(t.$message.error("输入的姓名格式不正确！"),t.found=!1):t.found=!0)),t.found){t.fulltabledata=JSON.parse(localStorage.getItem("infotabledata"));var r=t.fulltabledata.length-1;a.id=t.fulltabledata[r].id+1,t.fulltabledata.push(a),localStorage.setItem("infotabledata",JSON.stringify(t.fulltabledata)),t.dialogVisible=!1,t.$message.success("添加成功")}}}))},resetForm:function(e){this.$refs[e].resetFields()},updForm:function(){var e=this;this.found=!0,this.found&&("xx"!==this.updform.updinfonum.substring(0,2)||isNaN(this.updform.updinfonum.substring(2,4))?(this.$message.error("输入的工号格式不正确！"),this.found=!1):this.found&&(this.lastinfonum==this.updform.updinfonum?this.found=!0:this.fulltabledata.forEach((function(t){e.updform.updinfonum==t.infonum&&(e.$message.error("有相同工号，请检查是否输入正确！"),e.found=!1)}))),this.found&&""==this.updform.updname&&(this.$message.error("姓名不能为空！"),this.found=!1),this.found&&(this.updform.updage<18||this.updform.updage>65)&&(this.$message.error("年龄可能不合适？"),this.found=!1)),this.found&&(this.fulltabledata.forEach((function(t,a){t.id==e.updform.id&&(t.infonum=e.updform.updinfonum,t.department=e.updform.upddepartment,t.office=e.updform.updoffice,t.name=e.updform.updname,t.age=e.updform.updage,t.gender=e.updform.updgender,t.date=e.updform.upddate,t.degree=e.updform.upddegree)})),localStorage.setItem("infotabledata",JSON.stringify(this.fulltabledata)),this.upddialogVisible=!1,this.$message.success("修改成功"))},resetupdForm:function(e){this.$refs[e].resetFields()},getUser:function(){localStorage.getItem("infotabledata")?this.fulltabledata=JSON.parse(localStorage.getItem("infotabledata"))||[]:(localStorage.setItem("infotabledata",JSON.stringify(this.tableData)),this.fulltabledata=this.tableData)}},computed:{filterData:function(){var e=this;return this.fulltabledata.filter((function(t){return t.name.includes(e.sear)}))}},created:function(){this.getUser()}}),o=n,i=(a("9a02"),a("2877")),d=Object(i["a"])(o,r,l,!1,null,"29e74294",null);t["default"]=d.exports}}]);